{"version":3,"file":"index.js","sources":["../src/compatMap.js","../src/fileReadAsString.js","../src/fileWriteFromString.js","../src/compileFileInto.js","../src/corePlugin.js","../src/moduleCompatMap.js","../src/objectHelper.js","../src/versionCompare.js","../src/pluginMapToPluginsForPlatform.js"],"sourcesContent":["// copied from @babel/preset-env/data/plugins.json.\n// Because this is an hidden implementation detail of @babel/preset-env\n// it could be deprecated or moved anytime.\n// For that reason it makes more sens to have it inlined here\n// than importing it from an undocumented location.\n// Ideally it would be documented or a separate module\n\nexport const compatMap = {\n  \"transform-template-literals\": {\n    chrome: \"41\",\n    edge: \"13\",\n    firefox: \"34\",\n    safari: \"9\",\n    node: \"4\",\n    ios: \"9\",\n    opera: \"28\",\n    electron: \"0.24\",\n  },\n  \"transform-literals\": {\n    chrome: \"44\",\n    edge: \"12\",\n    firefox: \"53\",\n    safari: \"9\",\n    node: \"4\",\n    ios: \"9\",\n    opera: \"31\",\n    electron: \"0.31\",\n  },\n  \"transform-function-name\": {\n    chrome: \"51\",\n    firefox: \"53\",\n    safari: \"10\",\n    node: \"6.5\",\n    ios: \"10\",\n    opera: \"38\",\n    electron: \"1.2\",\n  },\n  \"transform-arrow-functions\": {\n    chrome: \"47\",\n    edge: \"13\",\n    firefox: \"45\",\n    safari: \"10\",\n    node: \"6\",\n    ios: \"10\",\n    opera: \"34\",\n    electron: \"0.36\",\n  },\n  \"transform-block-scoped-functions\": {\n    chrome: \"41\",\n    edge: \"12\",\n    firefox: \"46\",\n    safari: \"10\",\n    node: \"4\",\n    ie: \"11\",\n    ios: \"10\",\n    opera: \"28\",\n    electron: \"0.24\",\n  },\n  \"transform-classes\": {\n    chrome: \"46\",\n    edge: \"13\",\n    firefox: \"45\",\n    safari: \"10\",\n    node: \"5\",\n    ios: \"10\",\n    opera: \"33\",\n    electron: \"0.36\",\n  },\n  \"transform-object-super\": {\n    chrome: \"46\",\n    edge: \"13\",\n    firefox: \"45\",\n    safari: \"10\",\n    node: \"5\",\n    ios: \"10\",\n    opera: \"33\",\n    electron: \"0.36\",\n  },\n  \"transform-shorthand-properties\": {\n    chrome: \"43\",\n    edge: \"12\",\n    firefox: \"33\",\n    safari: \"9\",\n    node: \"4\",\n    ios: \"9\",\n    opera: \"30\",\n    electron: \"0.29\",\n  },\n  \"transform-duplicate-keys\": {\n    chrome: \"42\",\n    edge: \"12\",\n    firefox: \"34\",\n    safari: \"9\",\n    node: \"4\",\n    ios: \"9\",\n    opera: \"29\",\n    electron: \"0.27\",\n  },\n  \"transform-computed-properties\": {\n    chrome: \"44\",\n    edge: \"12\",\n    firefox: \"34\",\n    safari: \"7.1\",\n    node: \"4\",\n    ios: \"8\",\n    opera: \"31\",\n    electron: \"0.31\",\n  },\n  \"transform-for-of\": {\n    chrome: \"51\",\n    edge: \"15\",\n    firefox: \"53\",\n    safari: \"10\",\n    node: \"6.5\",\n    ios: \"10\",\n    opera: \"38\",\n    electron: \"1.2\",\n  },\n  \"transform-sticky-regex\": {\n    chrome: \"49\",\n    edge: \"13\",\n    firefox: \"3\",\n    safari: \"10\",\n    node: \"6\",\n    ios: \"10\",\n    opera: \"36\",\n    electron: \"1\",\n  },\n  \"transform-dotall-regex\": {\n    chrome: \"62\",\n    safari: \"11.1\",\n    node: \"8.10\",\n    ios: \"11.3\",\n    opera: \"49\",\n    electron: \"3\",\n  },\n  \"transform-unicode-regex\": {\n    chrome: \"50\",\n    edge: \"13\",\n    firefox: \"46\",\n    safari: \"10\",\n    node: \"6\",\n    ios: \"10\",\n    opera: \"37\",\n    electron: \"1.1\",\n  },\n  \"transform-spread\": {\n    chrome: \"46\",\n    edge: \"13\",\n    firefox: \"36\",\n    safari: \"10\",\n    node: \"5\",\n    ios: \"10\",\n    opera: \"33\",\n    electron: \"0.36\",\n  },\n  \"transform-parameters\": {\n    chrome: \"49\",\n    edge: \"14\",\n    firefox: \"53\",\n    safari: \"10\",\n    node: \"6\",\n    ios: \"10\",\n    opera: \"36\",\n    electron: \"1\",\n  },\n  \"transform-destructuring\": {\n    chrome: \"51\",\n    firefox: \"53\",\n    safari: \"10\",\n    node: \"6.5\",\n    ios: \"10\",\n    opera: \"38\",\n    electron: \"1.2\",\n  },\n  \"transform-block-scoping\": {\n    chrome: \"49\",\n    edge: \"14\",\n    firefox: \"51\",\n    safari: \"10\",\n    node: \"6\",\n    ios: \"10\",\n    opera: \"36\",\n    electron: \"1\",\n  },\n  \"transform-typeof-symbol\": {\n    chrome: \"38\",\n    edge: \"12\",\n    firefox: \"36\",\n    safari: \"9\",\n    node: \"0.12\",\n    ios: \"9\",\n    opera: \"25\",\n    electron: \"0.2\",\n  },\n  \"transform-new-target\": {\n    chrome: \"46\",\n    edge: \"14\",\n    firefox: \"41\",\n    safari: \"10\",\n    node: \"5\",\n    ios: \"10\",\n    opera: \"33\",\n    electron: \"0.36\",\n  },\n  \"transform-regenerator\": {\n    chrome: \"50\",\n    edge: \"13\",\n    firefox: \"53\",\n    safari: \"10\",\n    node: \"6\",\n    ios: \"10\",\n    opera: \"37\",\n    electron: \"1.1\",\n  },\n  \"transform-exponentiation-operator\": {\n    chrome: \"52\",\n    edge: \"14\",\n    firefox: \"52\",\n    safari: \"10.1\",\n    node: \"7\",\n    ios: \"10.3\",\n    opera: \"39\",\n    electron: \"1.3\",\n  },\n  \"transform-async-to-generator\": {\n    chrome: \"55\",\n    edge: \"15\",\n    firefox: \"52\",\n    safari: \"10.1\",\n    node: \"7.6\",\n    ios: \"10.3\",\n    opera: \"42\",\n    electron: \"1.6\",\n  },\n  \"proposal-async-generator-functions\": {\n    chrome: \"63\",\n    firefox: \"57\",\n    safari: \"12\",\n    opera: \"50\",\n    electron: \"3\",\n  },\n  \"proposal-object-rest-spread\": {\n    chrome: \"60\",\n    firefox: \"55\",\n    safari: \"11.1\",\n    node: \"8.3\",\n    ios: \"11.3\",\n    opera: \"47\",\n    electron: \"2\",\n  },\n  \"proposal-unicode-property-regex\": {\n    chrome: \"64\",\n    safari: \"11.1\",\n    ios: \"11.3\",\n    opera: \"51\",\n    electron: \"3\",\n  },\n  \"proposal-json-strings\": {},\n  \"proposal-optional-catch-binding\": {\n    chrome: \"66\",\n    firefox: \"58\",\n    safari: \"11.1\",\n    ios: \"11.3\",\n    opera: \"53\",\n    electron: \"3\",\n  },\n}\n","import fs from \"fs\"\n\nexport const fileReadAsString = (location) =>\n  new Promise((resolve, reject) => {\n    fs.readFile(location, (error, buffer) => {\n      if (error) {\n        reject(error)\n      } else {\n        resolve(buffer.toString())\n      }\n    })\n  })\n","import fs from \"fs\"\n\nconst sequence = require(\"promise-sequential\") // rollup fails if using import here\n\nconst getFileLStat = (path) => {\n  return new Promise((resolve, reject) => {\n    fs.lstat(path, (error, lstat) => {\n      if (error) {\n        reject({ status: 500, reason: error.code })\n      } else {\n        resolve(lstat)\n      }\n    })\n  })\n}\n\nconst createFolder = ({ location }) => {\n  return new Promise((resolve, reject) => {\n    fs.mkdir(location, (error) => {\n      if (error) {\n        // au cas ou deux script essayent de crÃ©e un dossier peu importe qui y arrive c'est ok\n        if (error.code === \"EEXIST\") {\n          getFileLStat(location).then((stat) => {\n            if (stat.isDirectory()) {\n              resolve()\n            } else {\n              reject({ status: 500, reason: \"expect a directory\" })\n            }\n          })\n        } else {\n          reject({ status: 500, reason: error.code })\n        }\n      } else {\n        resolve()\n      }\n    })\n  })\n}\n\nconst normalizeSeparation = (filename) => filename.replace(/\\\\/g, \"/\")\n\nconst createFolderUntil = ({ location }) => {\n  let path = normalizeSeparation(location)\n  // remove first / in case path starts with / (linux)\n  // because it would create a \"\" entry in folders array below\n  // tryig to create a folder at \"\"\n  const pathStartsWithSlash = path[0] === \"/\"\n  if (pathStartsWithSlash) {\n    path = path.slice(1)\n  }\n  const folders = path.split(\"/\")\n\n  folders.pop()\n\n  return sequence(\n    folders.map((_, index) => {\n      return () => {\n        const folderLocation = folders.slice(0, index + 1).join(\"/\")\n        return createFolder({\n          location: `${pathStartsWithSlash ? \"/\" : \"\"}${folderLocation}`,\n        })\n      }\n    }),\n  )\n}\n\nexport const fileWriteFromString = (location, content) => {\n  return createFolderUntil({ location }).then(() => {\n    return new Promise((resolve, reject) => {\n      fs.writeFile(location, content, (error) => {\n        if (error) {\n          reject(error)\n        } else {\n          resolve()\n        }\n      })\n    })\n  })\n}\n","import path from \"path\"\n\nimport { fileReadAsString } from \"./fileReadAsString.js\"\nimport { fileWriteFromString } from \"./fileWriteFromString.js\"\n\nconst { transformAsync } = require(\"@babel/core\") // rollup fails if using import here\n\nexport const compileFileInto = async (name, { root, into, plugins }) => {\n  const absoluteName = `${root}/${name}`\n  const compiledName = `${into}/${name}`\n  const compiledAbsoluteName = `${root}/${compiledName}`\n  const sourceMapName = `${path.basename(name)}.map`\n  const sourceMapLocationForSource = `${sourceMapName}`\n  const sourceMapAbsoluteName = `${root}/${into}/${name}.map`\n  const sourceNameForSourceMap = path.relative(path.dirname(sourceMapAbsoluteName), absoluteName)\n\n  const source = await fileReadAsString(absoluteName)\n  const { code, map } = await transformAsync(source, {\n    plugins,\n    filename: absoluteName,\n    sourceMaps: true,\n    sourceFileName: sourceNameForSourceMap,\n  })\n\n  if (map) {\n    return Promise.all([\n      fileWriteFromString(\n        compiledAbsoluteName,\n        `${code}\n//# sourceMappingURL=${sourceMapLocationForSource}`,\n      ),\n      fileWriteFromString(sourceMapAbsoluteName, JSON.stringify(map, null, \"  \")),\n    ])\n  }\n\n  return fileWriteFromString(compiledAbsoluteName, code)\n}\n","import availablePlugins from \"@babel/preset-env/lib/available-plugins.js\"\n\nexport const isPluginNameCore = (pluginName) => pluginName in availablePlugins\n\nexport const pluginNameToPlugin = (pluginName) => {\n  if (isPluginNameCore(pluginName) === false) {\n    throw new Error(`unknown plugin ${pluginName}`)\n  }\n  return availablePlugins[pluginName]\n}\n\nexport const pluginOptionMapToPluginMap = (pluginOptionsMap = {}) => {\n  const pluginMap = {}\n\n  Object.keys(pluginOptionsMap).forEach((pluginName) => {\n    pluginMap[pluginName] = [pluginNameToPlugin(pluginName), pluginOptionsMap[pluginName]]\n  })\n\n  return pluginMap\n}\n","// copied from @babel/preset-env/data/built-in-modules.json.\n// Because this is an hidden implementation detail of @babel/preset-env\n// it could be deprecated or moved anytime.\n// For that reason it makes more sens to have it inlined here\n// than importing it from an undocumented location.\n// Ideally it would be documented or a separate module\n\nexport const moduleCompatMap = {\n  edge: \"16\",\n  firefox: \"60\",\n  chrome: \"61\",\n  safari: \"10.1\",\n  opera: \"48\",\n  ios_saf: \"10.3\", // eslint-disable-line camelcase\n  and_ff: \"60\", // eslint-disable-line camelcase\n}\n","export const objectValues = (object) => {\n  return Object.keys(object).map((key) => object[key])\n}\n\nexport const objectFilter = (object, callback) => {\n  const filtered = {}\n\n  Object.keys(object).forEach((key) => {\n    const value = object[key]\n    if (callback(key, value, object)) {\n      filtered[key] = value\n    }\n  })\n\n  return filtered\n}\n","const semver = (version) => {\n  if (typeof version === \"number\") {\n    return {\n      major: version,\n      minor: 0,\n      patch: 0,\n    }\n  }\n  if (typeof version === \"string\") {\n    if (version.indexOf(\".\") > -1) {\n      const parts = version.split(\".\")\n      return {\n        major: Number(parts[0]),\n        minor: parts[1] ? Number(parts[1]) : 0,\n        patch: parts[2] ? Number(parts[2]) : 0,\n      }\n    }\n    if (isNaN(version)) {\n      return {\n        major: 0,\n        minor: 0,\n        patch: 0,\n      }\n    }\n    return {\n      major: Number(version),\n      minor: 0,\n      patch: 0,\n    }\n  }\n  throw new TypeError(`version must be a number or a string, got: ${typeof version}`)\n}\n\nexport const versionCompare = (versionA, versionB) => {\n  const semanticVersionA = semver(versionA)\n  const semanticVersionB = semver(versionB)\n\n  const majorDiff = semanticVersionA.major - semanticVersionB.major\n  if (majorDiff > 0) {\n    return majorDiff\n  }\n  if (majorDiff < 0) {\n    return majorDiff\n  }\n\n  const minorDiff = semanticVersionA.minor - semanticVersionB.minor\n  if (minorDiff > 0) {\n    return minorDiff\n  }\n  if (minorDiff < 0) {\n    return minorDiff\n  }\n\n  const patchDiff = semanticVersionA.patch - semanticVersionB.patch\n  if (patchDiff > 0) {\n    return patchDiff\n  }\n  if (patchDiff < 0) {\n    return patchDiff\n  }\n\n  return 0\n}\n\nexport const versionEqual = (versionA, versionB) => {\n  return String(versionA) === String(versionB)\n}\n\nexport const versionIsAbove = (versionSupposedAbove, versionSupposedBelow) => {\n  return versionCompare(versionSupposedAbove, versionSupposedBelow) > 0\n}\n\nexport const versionIsBelow = (versionSupposedBelow, versionSupposedAbove) => {\n  return versionCompare(versionSupposedBelow, versionSupposedAbove) < 0\n}\n\nexport const versionIsBelowOrEqual = (versionSupposedBelow, versionSupposedAbove) => {\n  return (\n    versionEqual(versionSupposedBelow, versionSupposedAbove) ||\n    versionIsBelow(versionSupposedBelow, versionSupposedAbove)\n  )\n}\n\nexport const versionHighest = (versionA, versionB) => {\n  return versionIsAbove(versionA, versionB) ? versionA : versionB\n}\n\nexport const versionLowest = (versionA, versionB) => {\n  return versionIsBelow(versionA, versionB) ? versionA : versionB\n}\n","import { compatMap as defaultCompatMap } from \"./compatMap.js\"\nimport { objectFilter, objectValues } from \"./objectHelper.js\"\nimport { versionIsBelow } from \"./versionCompare.js\"\n\nconst pluginCompatMapToPlatformVersion = (pluginCompatMap, platformName) => {\n  return platformName in pluginCompatMap ? pluginCompatMap[platformName] : \"Infinity\"\n}\n\nconst isPlatformCompatible = (pluginCompatMap, platformName, platformVersion) => {\n  const compatibleVersion = pluginCompatMapToPlatformVersion(pluginCompatMap, platformName)\n  return versionIsBelow(platformVersion, compatibleVersion)\n}\n\nconst pluginMapForPlatform = (pluginMap, platformName, platformVersion, compatMap) => {\n  return objectFilter(pluginMap, (pluginName) => {\n    return isPlatformCompatible(\n      pluginName in compatMap ? compatMap[pluginName] : {},\n      platformName,\n      platformVersion,\n    )\n  })\n}\n\nexport const pluginMapToPluginsForPlatform = (\n  pluginMap,\n  platformName,\n  platformVersion,\n  compatMap = defaultCompatMap,\n) => {\n  const platformPluginMap = pluginMapForPlatform(\n    pluginMap,\n    platformName,\n    platformVersion,\n    compatMap,\n  )\n  const plugins = objectValues(platformPluginMap)\n  return plugins\n}\n"],"names":["compatMap","chrome","edge","firefox","safari","node","ios","opera","electron","ie","fileReadAsString","location","Promise","resolve","reject","fs","readFile","error","buffer","toString","sequence","require","getFileLStat","path","lstat","status","reason","code","createFolder","mkdir","then","stat","isDirectory","normalizeSeparation","filename","replace","createFolderUntil","pathStartsWithSlash","slice","folders","split","pop","map","_","index","folderLocation","join","fileWriteFromString","content","writeFile","transformAsync","compileFileInto","name","root","into","plugins","absoluteName","compiledName","compiledAbsoluteName","sourceMapName","basename","sourceMapLocationForSource","sourceMapAbsoluteName","sourceNameForSourceMap","relative","dirname","source","sourceMaps","sourceFileName","all","JSON","stringify","isPluginNameCore","pluginName","availablePlugins","pluginNameToPlugin","Error","pluginOptionMapToPluginMap","pluginOptionsMap","pluginMap","Object","keys","forEach","moduleCompatMap","ios_saf","and_ff","objectValues","object","key","objectFilter","callback","filtered","value","semver","version","major","minor","patch","indexOf","parts","Number","isNaN","TypeError","versionCompare","versionA","versionB","semanticVersionA","semanticVersionB","majorDiff","minorDiff","patchDiff","versionEqual","String","versionIsAbove","versionSupposedAbove","versionSupposedBelow","versionIsBelow","versionIsBelowOrEqual","versionHighest","versionLowest","pluginCompatMapToPlatformVersion","pluginCompatMap","platformName","isPlatformCompatible","platformVersion","compatibleVersion","pluginMapForPlatform","pluginMapToPluginsForPlatform","defaultCompatMap","platformPluginMap"],"mappings":"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"}